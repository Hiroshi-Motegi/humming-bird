<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Type" content="text/javascript; charset=utf-8" />
		<meta http-equiv="Content-Type" content="text/css; charset=utf-8" />
		<title>jQuery Ajax + Google Data API - jBloggerFeed demo</title>
		<script src="http://www.google.com/jsapi/" type="text/javascript"></script>
		<script type="text/javascript">google.load('jquery', '1')</script>

<script type="text/javascript">
(function($){$.extend({
	// order : posts or comments
	// domain : blog domain
	jBloggerFeed: function(domain, order, options, callback){
		var data = $.extend({
			'max-results': 10,
			'redirect': false,
			'alt': 'json-in-script'
		}, options);
		
		callback = $.isFunction(options) ? options : callback || function(){};
		
		$.ajax({
		    dataType: 'jsonp',
			data: data,
		    cache: false,
		    url: 'http://' + domain + '.blogspot.com/feeds/' + order + '/default',
		    success: callback
		});
	}
})})(jQuery);


// Usage
$(function(){
	$.jBloggerFeed('yas-hummingbird', 'posts', {'max-results': 15}, function(data){
		
		$(document.body).append(
			'<ul><li>' + 
			$.map(data.feed.entry, function(entry, i){
				return '<span class="item-title"><a href=\'' + 
					(function(links){
						for (var k = 0; k < links.length; k++) {
							if (links[k].rel == 'alternate') {
								return links[k].href;
								break;
							}
						}
						return '';
					})(entry.link) + 
					'\'>' + entry.title.$t + '</a></span>';
			}).join('</li><li>') +
			'</li></ul>');
	});
});
</script>
<style type="text/css">
</style>
    </head>
    <body>
    	<h2>jQuery Ajax + Google Data API - jBloggerFeed demo</h2>
    </body>
</html>