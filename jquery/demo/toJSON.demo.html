<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Script-Type" content="text/javascript; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css; charset=utf-8" />
	<meta content="y@s" name="author"/>
	<title>jQuery plugin - toJSON demo</title>
	<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>-->
	<script src="../lib/jquery-1.4.2.min.js" type="text/javascript"></script>
	<script src="../lib/jquery.toJSON.js" type="text/javascript"></script>

<script type="text/javascript">
jQuery(function(){
//sample json object
/*
var g = {
	media$group: {
		media$category: [{
			$t    : 'Music',
			label : '音楽',
			scheme: 'http://gdata.youtube.com/schemas/2007/categories.cat'
		}],
		media$content: [{
			url       : 'http://www.youtube.com/v/FYl04pPOqv0?f=videos&app=youtube_gdata',
			type      : 'application/x-shockwave-flash',
			medium    : 'video',
			isDefault : 'true',
			expression: 'full',
			duration  : 371,
			yt$format : 5
		}, {
			url       : 'rtsp://rtsp2.youtube.com/CiILENy73wIaGQn9qs6T4nSJFRMYDSANFEgGUgZ2aWRlb3MM/0/0/0/video.3gp',
			type      : 'video/3gpp',
			medium    : 'video',
			expression: 'full',
			duration  : 371,
			yt$format : 1
		}, {
			url       : 'rtsp://rtsp2.youtube.com/CiILENy73wIaGQn9qs6T4nSJFRMYESARFEgGUgZ2aWRlb3MM/0/0/0/video.3gp',
			type      : 'video/3gpp',
			medium    : 'video',
			expression: 'full',
			duration  : 371,
			yt$format : 6
		}],
		media$description: {
			$t  : 'All the previews for the songs on the Jonas Brothers album " Lines, Vines, & Trying Times". They played these previews in the facebook live chat, but in case you missed it...HERE IT IS! :) enjoyy! and once again I dont own anything. and no copyright is intended. PLEEASSEE subscribee!',
			type: 'plain'
		},
		media$keywords: {
			$t: 'jonas, brothers, lines, vines, and, trying, times, previews, songs, jb, jobros, album, facebook, live, chat'
		},
		media$player: [{
			url: 'http://www.youtube.com/watch?v=FYl04pPOqv0'
		}],
		media$thumbnail: [{
			url   : 'http://i.ytimg.com/vi/FYl04pPOqv0/2.jpg',
			height: 90,
			width : 120,
			time  : '00:03:05.500'
		}, {
			url   : 'http://i.ytimg.com/vi/FYl04pPOqv0/1.jpg',
			height: 90,
			width : 120,
			time  : '00:01:32.750'
		}, {
			url   : 'http://i.ytimg.com/vi/FYl04pPOqv0/3.jpg',
			height: 90,
			width : 120,
			time  : '00:04:38.250'
		}, {
			url   : 'http://i.ytimg.com/vi/FYl04pPOqv0/0.jpg',
			height: 240,
			width : 320,
			time  : '00:03:05.500'
		}],
		media$title: {
			$t  : 'Line, Vines, And Trying Times Album Song Previews Jonas Brothers in HQ',
			type: 'plain'
		},
		yt$duration: {
			seconds: '371'
		}
	},
	gd$rating: {
		average   : 4.9555554,
		max       : 5,
		min       : 1,
		numRaters : 90,
		rel       : 'http://schemas.google.com/g/2005#overall'
	},
	yt$statistics: {
		favoriteCount : '192',
		viewCount     : '7223'
	}
};
*/

/*
function ff_js_beautify(source){
	var fn;
	try {
		fn = new Function(source);
	} 
	catch ( error if(error instanceof SyntaxError) ) {
		return "";
	}
	return fn
		.toSource(0)
		.split('\n')
		.slice(1, -1)
		.join('\n')
		.replace(/^\s+/, '')
		.replace(/^\s{4}/gm, '')
		.replace(/\n$/, '');
}
*/


var o = {
	a: null,
	b: {
		c: '\'dd\ndd\'',
		d: new Date(document.lastModified)
	},
	e: {
		f: [0, '</span>', ' "&&" ']
	},
	g: false
};

var jsonString = $.toJSON(o);

$('<textarea/>')
	.css({
		width : '450px',
		height: '200px'
	})
	//.text( ff_js_beautify( 'var o = ' + jsonString ) )
	.text( 'var o = ' + jsonString )
	.appendTo('#code');


$('<pre/>')
	.css({
		width   : '450px',
		height  : '200px',
		overflow: 'auto'
	})
	.text( 'var o = ' + jsonString )
	.appendTo('#code');

$('<span/>')
	.css({
		width : '450px',
		height: '200px'
	})
	.text( 'var o = ' + jsonString )
	.appendTo('#code');
	

console.log(jsonString);

});
</script>
<style type="text/css">
*{font-family:monospace}
pre{
	border          : 1px solid #ccc;
	background-color: #eee;
	/*width           : 450px;*/
}
</style>
</head>
<body>
	<h1>jQuery plugin - toJSON demo</h1>
	<div><pre class='prettyprint'>
var o = {
	a: null,
	b: {
		c: 'dd\ndd',
		d: new Date(document.lastModified)
	},
	e: {
		f: [0, '&lt;/span&gt;', ' "&&" ']
	},
	g: false
};
	</pre></div>
	<div id='code'></div>
</body>
</html>