<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Script-Type" content="text/javascript; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css; charset=utf-8" />
		<title>jQuery plugin - chart demo</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
		<script src="../lib/jquery.gchart.js" type="text/javascript"></script>
<script type="text/javascript">

function gChart (){
	this.initialize.apply(this, arguments);
}
gChart.prototype = {
	initialize: function(options){
		this.params = gChart.merge(gChart.defaults, options);
	},
	get: function(){
		return 'http://chart.apis.google.com/chart?' +
		(function(o){
			var x = [];
			for (var i in o) {
				if (o.hasOwnProperty(i)) 
					x.push(i + '=' + o[i]);
			}
			return x.join('&')
		})(this.params);
	},
	// Maximum 300,000 pixels
	size: function(w, h){
		if (arguments.length == 0) 
			return this.params.chs;

		this.params.chs = w + 'x' + h;
	}
};

(function (o){
	for (var i in o){gChart[i] = o[i]}
})({
	merge: function(){
		var ln = arguments.length, re = {}, arg, i;
		for (var j = 0; j < ln; j++) {
			arg = arguments[j];
			for (i in arg) {
				if (arg.hasOwnProperty(i)) 
					re[i] = arg[i];
			}
		}
		return re;
	}
});

(function (o){for (var i in o){gChart[i] = o[i]}})($.gChart);




gChart.pie3D = function(options){
	var chrt = new gChart(gChart.merge({
		cht: gChart.chartType.pie3D,
		chd: 's:91bTA',
		chco:'0000ff',
		//chf:'bg,lg,45,ffffff,0,76A4FB,0.75',
		chf:'bg,s,ffcc00|a,s,ffffffcc'
	}, options));
	return chrt.get();
}

gChart.line = function(options){
	var chrt = new gChart(gChart.merge({
		cht: gChart.chartType.barVertical,
		chs: '150x200'
		//chd: 'e:..|--',
		//chm: 'b,cccccc,0,0,0',
		//chxt:'x,y',
		//chxl:'1:|A|B|C',
		//chtt:'単位:ms'
	}, options));
	return chrt.get();
}

$.gChart.lineV = function(options){
	return $('<img>').attr('src', $.gChart.get($.extend({
		cht: gChart.chartType.barVertical,
		chs: '200x200',
		chm: 'b,cccccc,0,0,0'
	}, options)));
}

$.gChart.temperature = function(value, params){
	return $('<img>').attr('src', $.gChart.get($.extend({
		cht:$.gChart.chartType.barVertical,
		chd:$.gChart.textEncoding(value, -25, 45),
		chs: '200x300',
		chtt:'気温',
		chco:'99ccff',
		chxt:'y',
		chbh:'30,15',
		chm:'r,333333,0,0.213,0.214|r,ff0000,0,0.357,0.358|r,333333,0,0.499,0.500|r,333333,0,0.640,0.641|r,333333,0,0.786,0.787',
		chxr:'0,-25,45'
	}, params)));
}





jQuery(function($){

/*
	var img = new Image();
	//img.src = gChart.line({chd:'s:ZM'});
	img.src = gChart.line({
		chd:gChart.textEncoding([-2, 8, 15], -20, 41),
		chs: '200x200',
		chtt:'気温',
		chxt:'y,x',
		chbh:'40,10',
		//chm:'r,000000,0,0.499,0.501|r,000000,0,0.998,1.0|r,000000,0,0.0,0.002',
		chm:'r,000000,0,0.162,0.163|r,000000,0,0.328,0.329|r,000000,0,0.490,0.491|r,000000,0,0.654,0.655|r,000000,0,0.820,0.821',
		//chxl:'0:|あ|い|う|え|お|百'
		//chxp:'0,0,20,40,60,80,100'//,
		//chxr:'0,0,100'//,
		chxl:'1:|北海道|東京|沖縄',
		chxr:'0,-20,41'//,
		//chxl:'0:|0|20|40|60|80|100'
	});

	document.body.appendChild(img);
*/
	
	var max = 10000, value = [1295, 6546, 7564, 7856, 243, 1833];
	
	$(document.body).append($('<img>').attr('src',
		$.gChart.get({
			cht:$.gChart.chartType.sparkline,
			chd:$.gChart.extendedEncoding(
				$.gChart.adjust(value, 0, max, $.gChart.granularity.extended)),
			chs: '200x300',
			chxt:'y',
			chbh:'40,10',
			chg:'0,10,1,2',
			chxr:'0,0,' + max
	})));
	
	
	var data = [23,18,9];
	var prm = {
			chxt: 'y,x',
			chxl: '1:|沖縄|東京|北海道'
		};
	
	$(document.body).append($.gChart.temperature(data, prm));

/*
	var x1 = 4078;
	alert(x1);
	var x2 = gChart.extendedEncode(x1);
	alert(x2);
	var x3 = gChart.extendedDecode(x2);
	alert(x3);
*/
	
/*
	var x1 = [4078,1176,432];
	alert(x1);
	
	var x2 = gChart.extendedEncoding(x1);
	alert(x2);
	
	var x3 = gChart.extendedDecoding(x2);
	alert(x3);
*/

/*
	var x1 = 61;
	alert(x1);
	var x2 = gChart.simpleEncode(x1);
	alert(x2);
	var x3 = gChart.simpleDecode(x2);
	alert(x3);
*/
	
	
/*
	var x1 = [23,5,61];
	alert(x1);
	
	var x2 = gChart.simpleEncoding(x1);
	alert(x2);
	
	var x3 = gChart.simpleDecoding(x2);
	alert(x3);
*/
	
	
	
	//var aa = gChart.textEncoding([254,228,91],00, 300);
	//alert(aa);

});


/*
[[ Required Parameters ]]
	- chart type
	- chart data
	- chart size

[cht] - チャート タイプ(chart type) ex:cht=<chart type>
	lc,lxy:折れ線グラフ
	ls:スパークライン
	bhs,bhg,bvs,bvg,chbh:棒グラフ(bar chart type)
	p,p3:円グラフ(pie chart type)
	v:ベン図
	s:散布図
	r,rs:レーダー チャート
	t:地図
		[chtm] africa,asia,europe,middle_east,south_america,usa,world
	gom:Google-o-meter
	qr:QRコード
		[chl] delimiter:%20
		[choe] Shift_JIS,UTF-8,ISO-8859-1


[chd] - チャート データ(chart data)
	chd=t:<chart data string> or s:<simple encordedchart data string> or e:<extended encordedchart data string>
	delimiter:|


[chs] - チャート サイズ(chart size)
	chs=<width in pixels>x<height in pixels>


-- Option --
[chco] - チャートの色
	線、棒、ベン図、Google-o-meter、円グラフ

[chm] - 塗りつぶし領域
	b,<color>,<start line index>,<end line index>,<any value>
	or
	B,<color>,<start line index>,<end line index>,<any value>


[chf] - 塗りつぶし
	s:単色塗りつぶし
	lg:線形グラデーション
	ls:線形ストライプ
	
	bg:背景塗りつぶし
	c:チャート領域塗りつぶし
	a:チャート全体に透明度を適用


[chtt] - チャート タイトル
	- [chts] - チャート タイトル スタイル Exsample:chts=<color>,<fontsize>

[chdl] - 凡例

[chl] - 円グラフと Google-o-meter のラベル


[chxt] - 軸ラベル表示位置指定
	x = 下部の x 軸
	t = 上部の x 軸
	y = 左側の y 軸
	r = 右側の y 軸

[chxl]] - 軸ラベル
[chxp] - 軸ラベル位置
[chxr] - 軸範囲
[chxs] - 軸スタイル


-- Style --
[chbh] - 棒の太さと間隔
[chp] - 棒グラフの 0 座標位置 chds
[chls] - 線のスタイル
[chm] - 折れ線グラフ、スパークライン、棒グラフの線のスタイル
[chg] - グリッド線


[chm] - 図形マーカーと範囲マーカー(marker type)
	a:矢印
	c:十字
	d:ひし形
	o:円
	s:四角
	t:テキスト
	v: x 軸からデータ ポイントまでの垂直線
	V:チャート上端までの垂直線
	h:チャートを横断する水平線
	x:図形
	r,R:範囲マーカー
*/
</script>
<style type="text/css">
body{

}
img{border-width:0}
</style>
</head>
<body>
	<h1>jQuery plugin - gChart demo</h1>
</body>
</html>