<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
	<meta http-equiv='Content-Script-Type' content='text/javascript; charset=utf-8' />
	<meta http-equiv='Content-Style-Type' content='text/css; charset=utf-8' />
	<meta content='y@s' name='author'/>
	<meta content='iTunes + YouTube = iTube' name='description'/>
	<meta content='iTunes,YouTube' name='keyword'/>
	<title>iTube β</title>
	<link rel='stylesheet' href='./css/common.css' media='screen' type='text/css' charset='utf-8' />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript"></script>
	<script src='./js/common.js' type='text/javascript'></script>
	<script src="../jquery/lib/jquery.itunes.feed.js" type="text/javascript"></script>

<script type='text/javascript'>
(function($){
$.myAccordion = function(options){
	var op = $.extend({
		cont: '', //content selector
		cWrap:'', //category wrapper selector
		duration: 350,
		navi: '', // navigation selector
		wrap:'' // navigation wrapper selector
	}, options),
	$navi = $(op.navi),
	$conts = $(op.cont),
	$cWrap = $(op.cWrap);
	
	$conts.sameHeight().hide().filter(':first').show();
	$(op.wrap).height(($cWrap.eq(1).outerHeight() * ($cWrap.length - 1)) + $cWrap.eq(0).outerHeight());
	
	$cWrap
		.width($cWrap.width())
		.each(function(index,elm){
			$.data(elm,'posTop',$(elm).position().top);
		})
		.eq(0)
		.css({top:'auto',position:'static'})
		.nextAll()
		.setAbsolute();
	
	$navi.eq(0).addClass('current').end().click(function(e){
		var
		$t = $(e.target),
		$c = $conts.eq($navi.index($t));
		
		if ($c.is(':hidden')) {
			$t.addClass('current').parent().prevAll().andSelf().css({top:'auto',position:'static'});
			$conts.filter(':visible').slideUp(op.duration);
			$c.slideDown(op.duration,function(){
				$navi.not($t).removeClass('current');
				$t.parent().nextAll().setAbsolute();
			});
		}
		
		return false;
	});
}



$.fn.extend({
setAbsolute:function(){
	return this.each(function(){
		$(this).css({
			top: $.data(this, 'posTop'),
			position: 'absolute'
		});
	});
},
createiTunesNavi:function(){
	
	var
	datakey = 'itunes',
	elmKey = datakey + '-navi',
	wrapID = elmKey + '-wrap',
	cWrapClass = elmKey + '-category-wrap',
	tglClass = elmKey + '-tgl',
	contClass = elmKey + '-list',
	categories = $.iTunes.categories,
	genre = $.iTunes.genre,
	$wrap = $('<div>').attr('id', wrapID);
	
	for (var c in categories) {
		
		var $cWrap = $('<div>')
			.addClass(cWrapClass)
			.append($('<a>').addClass(tglClass).text(c))
			.appendTo($wrap);
		
		var $gLst = $('<ul>').addClass(contClass).appendTo($cWrap);
		
		for (var g in genre) {
			var $a = $('<a>').attr('href', 'javascript:void(0)').text(g);
			
			$.data($a.get(0), datakey, {
				'category':categories[c],
				'genre': genre[g]
			});
			
			$('<li>').append($a).appendTo($gLst);
		}
	}
	
	$(this).append($wrap);
	
	$.myAccordion({
		cont:'ul.' + contClass,
		cWrap:'div.' + cWrapClass,
		navi:'a.' + tglClass,
		wrap:'#' + wrapID
	});
	
	return this;
},
sameHeight: function(){
	var h = 0;
	return this.each(function(){
		h = Math.max(h, $(this).outerHeight());
	}).height(h);
}

});
	
})(jQuery);


jQuery(function($){

	$('#outer-wrap3').createiTunesNavi();

	$.setTitle('iTube β', '1.0');
	$.showLastModDate();


/*
$.iTunes.feed({
		category:itunes.categories['Top Songs'],
		country:'japan',
		limit:3,
		genre:itunes.genre['Rock']
	},
	function(feed){
		var $div = $('<div>').append($('<h3>').text(feed.description));
	    $.each(feed.entries, function(i, entry){
			$div.append(entry.content);
	    });
		$('#outer-wrap3').append($div);
});
*/

});
</script>


<style>

a{
	color:#aba;
}
a:hover{
	color:#dfd;
}

/* --wrap ----------------------------------- */
#outer-wrap0{}
#outer-wrap1{
	border-right:1px solid #202020;
	border-left:1px solid #202020;	
}
#outer-wrap2{
	border-right:1px solid #4c4c4c;
	border-left:1px solid #4c4c4c;
	background-color:#333;	
}
#outer-wrap3{
	width:960px;
	margin: 0 auto;
}

/* --itunes-navi ----------------------------------- */
#itunes-navi-wrap{
	background-color:#4c4c4c;
	border: 1px solid #2a2a2a;
	font-size:14px;
	overflow:hidden;
	padding-top:2px;
	position: relative;
	width:160px;
}

#itunes-navi-wrap div.itunes-navi-category-wrap{
	padding:0 2px 2px;
}

#itunes-navi-wrap a.itunes-navi-tgl{
	background-color:#333;
	border: 1px solid #2a2a2a;
	display:block;
	font-weight:bold;
	height:24px;
	line-height:24px;
	text-align:center;
}

#itunes-navi-wrap a.itunes-navi-tgl.current{
	background-color:#4c4c4c;
	border: 1px solid #4c4c4c;
	color:#000;
	cursor:default;
}
#itunes-navi-wrap a.itunes-navi-tgl.current:hover{
	color:#000;
}

#itunes-navi-wrap ul.itunes-navi-list{
	margin:0;
	list-style:none;
	text-align:center;
}

#itunes-navi-wrap ul.itunes-navi-list li a{
	display:block;
}

</style>
</head>
<body>
	<div id="header-wrap"><div id="header-inner"><div id="header">
		<h1 id="title" title="Page Title">iTube β</h1>
	</div></div></div>
	<div class="line-outer"><div class="line-inner"></div></div>
	
	<div id="outer-wrap0"><div id="outer-wrap1"><div id="outer-wrap2"><div id="outer-wrap3">
		<div class="clear dummy"></div>
	
	
	</div><!-- outer-wrap3 End -->
	</div><!-- outer-wrap2 End -->
	</div><!-- outer-wrap1 End -->
	</div><!-- outer-wrap0 End -->
	
	<div class="line-outer"><div class="line-inner"></div></div>
	<div id="footer-wrap">
		<div id="footer"><br>
			<small id='footer-page-title' title="page title"></small><br>
			<small>Last Modified:</small><small id="lastmod-date" title="last modified"></small><br>
			<small>© <a href="">humming bird</a>.</small>
			<small title="author">author:y@s</small><br><br>
		</div>
	</div>
</body>
</html>