<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Script-Type" content="text/javascript; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css; charset=utf-8" />
		<title>jQuery plugin - gChart Demo</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
		<script src="../lib/jquery.gchart.js" type="text/javascript"></script>
<script type="text/javascript">
/*
function gChart (){
	this.initialize.apply(this, arguments);
}
gChart.prototype = {
	initialize: function(options){
		this.params = gChart.merge(gChart.defaults, options);
	},
	get: function(){
		return 'http://chart.apis.google.com/chart?' +
		(function(o){
			var x = [];
			for (var i in o) {
				if (o.hasOwnProperty(i)) 
					x.push(i + '=' + o[i]);
			}
			return x.join('&')
		})(this.params);
	},
	// Maximum 300,000 pixels
	size: function(w, h){
		if (arguments.length == 0) 
			return this.params.chs;

		this.params.chs = w + 'x' + h;
	}
};

(function (o){for (var i in o){gChart[i] = o[i]}})($.gChart);
*/

(function($){

$.gChart.pie3D = function(options){
	return ( new $.gChart(this.merge({
		cht: this.chartType.pie3D,
		chs: '200x200',
		chco: 'ff0000'
	}, options)) ).image();
}


$.gChart.temperature = function(value, params){
	var min = -25, max = 45;
	return new $.gChart(this.merge({
		cht:$.gChart.chartType.barVertical,
		chd:$.gChart.textEncoding(value, min, max),
		chs: '240x200',
		chf:'c,lg,90,ffffff,1,ccccff,0',
		chtt:'気温(℃)',
		chco:'76A4FB',
		chxt:'y',
		chbh:'25,10',
		chm:'r,333333,0,0.213,0.214|r,0000ff,0,0.356,0.359|r,333333,0,0.499,0.500|r,333333,0,0.640,0.641|r,333333,0,0.786,0.787',
		chxr:'0,' + min + ',' + max
	}, params));
}


$.gChart.temperature2 = function(value, params){
	var min = -25, max = 45;
	return new $.gChart(this.merge({
		cht:$.gChart.chartType.barVertical,
		chd:$.gChart.textEncoding(value, min, max),
		chs: '240x200',
		chf:'c,lg,90,ffffff,1,ccccff,0',
		chtt:'気温(℃)',
		chco:'76A4FB',
		chxt:'y',
		chbh:'25,10',
		chp:'0.357',
		chm:'r,333333,0,0.213,0.214|r,0000ff,0,0.356,0.359|r,333333,0,0.499,0.500|r,333333,0,0.640,0.641|r,333333,0,0.786,0.787',
		chxr:'0,' + min + ',' + max
	}, params));
}

})(jQuery);







jQuery(function($){


	var max = 10000, value = [];
	
	for(var i = 0 ; i < 100 ; i++){
		value.push(2000 + Math.floor(Math.random()*7000));
	}
	
	
	
	var simpleChart = new $.gChart({
		cht:$.gChart.chartType.sparkline,
		chd:$.gChart.simpleEncoding(
			$.gChart.adjust(value, 0, max, $.gChart.granularity.simple)),
		chs: '400x200',
		chtt:'簡易エンコード',
		chxt:'y',
		chbh:'40,10',
		chg:'0,10,1,2',
		chxr:'0,0,' + max
	});
	
	$(document.body).append($('<img>').attr('src', simpleChart.src()));
	
	
	
	var extendedChart = new $.gChart({
		cht:$.gChart.chartType.sparkline,
		chd:$.gChart.extendedEncoding($.gChart.adjust(value, 0, max, $.gChart.granularity.extended)),
		chs: '400x200',
		chtt:'拡張エンコード',
		chxt:'y',
		chbh:'40,10',
		chg:'0,10,1,2',
		chxr:'0,0,' + max
	});
	
	$(document.body).append($('<img>').css('margin-left','20px').attr('src', extendedChart.src()));
	
	
	
	var bs = {
		IE7:40.83,
		Firefox3:20.43,
		IE6:16.94,
		IE8:6.85,
		Safari:6.34,
		Other:8.41
	};
	
	var label = (function(o){
		var ret = [];
		
		for(var i in o)
			ret.push(i + ' : ' + o[i] + '%');
		
		return ret.join('|');
	})(bs);
	
	var bsData = (function(o){
		var ret = [];
		
		for(var i in o)
			ret.push(o[i]);
		
		return 't:' + ret.join(',');
	})(bs);
	
	
	$(document.body).append('<br><br>', $.gChart.pie3D({
		chd:bsData,
		chl:label,
		chco: '99cc00|cc6699',
		chs: '350x125',
		chtt:'Browser Share:May 2009'
		}));





	$(document.body).append('<br><br>', $.gChart.temperature([23,22,19,18,16,11], {
		chxt: 'y,x',
		chxl: '1:|沖縄|福岡|名古屋|東京|仙台|札幌'
	}).image());
	
	$(document.body).append($.gChart.temperature2([12,11,9,8,-5,-9], {
		chxt: 'y,x',
		chxl: '1:|沖縄|福岡|名古屋|東京|仙台|札幌'
	}).image());
	
	
	var dr = $.gChart.extendedDecode('Ak');

});


/*
[[ Required Parameters ]]
	- chart type
	- chart data
	- chart size

[cht] - チャート タイプ(chart type) ex:cht=<chart type>
	lc,lxy:折れ線グラフ
	ls:スパークライン
	bhs,bhg,bvs,bvg,chbh:棒グラフ(bar chart type)
	p,p3:円グラフ(pie chart type)
	v:ベン図
	s:散布図
	r,rs:レーダー チャート
	t:地図
		[chtm] africa,asia,europe,middle_east,south_america,usa,world
	gom:Google-o-meter
	qr:QRコード
		[chl] delimiter:%20
		[choe] Shift_JIS,UTF-8,ISO-8859-1


[chd] - チャート データ(chart data)
	chd=t:<chart data string> or s:<simple encordedchart data string> or e:<extended encordedchart data string>
	delimiter:|


[chs] - チャート サイズ(chart size)
	chs=<width in pixels>x<height in pixels>


-- Option --
[chco] - チャートの色
	線、棒、ベン図、Google-o-meter、円グラフ

[chm] - 塗りつぶし領域
	b,<color>,<start line index>,<end line index>,<any value>
	or
	B,<color>,<start line index>,<end line index>,<any value>


[chf] - 塗りつぶし
	s:単色塗りつぶし
	lg:線形グラデーション
	ls:線形ストライプ
	
	bg:背景塗りつぶし
	c:チャート領域塗りつぶし
	a:チャート全体に透明度を適用


[chtt] - チャート タイトル
	- [chts] - チャート タイトル スタイル Exsample:chts=<color>,<fontsize>

[chdl] - 凡例

[chl] - 円グラフと Google-o-meter のラベル


[chxt] - 軸ラベル表示位置指定
	x = 下部の x 軸
	t = 上部の x 軸
	y = 左側の y 軸
	r = 右側の y 軸

[chxl]] - 軸ラベル
[chxp] - 軸ラベル位置
[chxr] - 軸範囲
[chxs] - 軸スタイル


-- Style --
[chbh] - 棒の太さと間隔
[chp] - 棒グラフの 0 座標位置 chds
[chls] - 線のスタイル
[chm] - 折れ線グラフ、スパークライン、棒グラフの線のスタイル
[chg] - グリッド線


[chm] - 図形マーカーと範囲マーカー(marker type)
	a:矢印
	c:十字
	d:ひし形
	o:円
	s:四角
	t:テキスト
	v: x 軸からデータ ポイントまでの垂直線
	V:チャート上端までの垂直線
	h:チャートを横断する水平線
	x:図形
	r,R:範囲マーカー
*/
</script>
<style type="text/css">
body{font-family:Meiryo,'メイリオ','Hiragino Kaku Gothic Pro','ヒラギノ角ゴ Pro W3' ,Verdana,Geneva,Arial,Helvetica,sans-serif}
h1{font-size:32px}
img{border-width:0}
</style>
</head>
<body>
	<h1>jQuery plugin - gChart Demo</h1>
</body>
</html>