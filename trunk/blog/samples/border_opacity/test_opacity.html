<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Type" content="text/javascript; charset=utf-8" />
		<meta http-equiv="Content-Type" content="text/css; charset=utf-8" />
        <title>test - border opacity</title>
		<script src='./lib/jquery/jquery-1.3.2.min.js' type="text/javascript"></script>

<script type="text/javascript">

$(function(){

var
isIE = $.browser.msie,
$base = $(document.body),
opacity = 0.8,
bw = 10,
hw = 100,
$tmp;

for( ; bw < hw ; ){
	$tmp = $('<div>')
		.css({
			opacity    : opacity,
			borderWidth: bw,
			borderStyle: "solid",
			borderColor: "#ff0000",
			height     : hw,
			width      : hw
		})
		.appendTo($base);
	
	hw -= bw*2;
	$base = $tmp;
	
	if (isIE) {
		opacity *= opacity;
	}
}

$(document.body).children(1).css('margin','10px');

});
</script>

<style type="text/css">
*{margin:0;padding:0;}
body{background-color:#fff}
body{background-color:#000}
.test{
	background-color:blue;
	border: 10px solid red;
	filter: alpha(opacity=50);
	-moz-opacity:0.5;
	opacity:0.5;
}
.test{background-color:transparent}

.test.outer{
	margin:10px;
	width:60px;
	height:60px;
}
.test.inner{
	width:40px;
	height:40px;
}
.test.core{
	width:20px;
	height:20px;
	
}

</style>
</head>
<body>
	<div class="test outer">
		<div class="test inner">
			<div class="test core"></div>
		</div>
	</div>
</body>
</html>